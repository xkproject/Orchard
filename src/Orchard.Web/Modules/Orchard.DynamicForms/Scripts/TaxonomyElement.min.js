var DynamicForms;(function(n){var t;(function(){$(function(){$(".taxonomy-element").each(function(){function e(){var a=n.find("input"),v=n.find("option"),e=[],f,o,s,h,c,l;$.each(a,function(){this.checked&&e.push($(this).val())});$.each(v,function(){this.selected&&e.push($(this).val())});n.trigger("change");n.children().remove().end();f=[];o=$("[name="+n.data("taxonomy-element-parent-name")+"]");i=="CheckList"||i=="RadioList"?$.each(o,function(){this.checked&&f.push($(this).val())}):f=o.val();typeof f=="string"&&(parseInt(f)===NaN&&(f=0),f=f===0?[]:[f]);s="";f!=null&&(s=f.toString());h=u+"&parentTermIds="+s;c=n.parent();h&&(l=function(i){$.get(i,function(i){if(jQuery.each(i,function(){var f,i,u;t=="CheckList"||t=="RadioList"?(f=t=="CheckList"?"checkbox":"radio",i="",e.indexOf(this.value)>-1&&(i="' checked='checked"),n.append($("<li><label><input name='"+r+"' type='"+f+i+"' value='"+this.value+"'>"+this.text+"<\/label><\/li>"))):(u=!1,e.indexOf(this.value)>-1&&(u=!0),n.append($("<option><\/option>").attr("value",this.value).attr("selected",u).text(this.text)))}),i.length===1){var u=i[0].Text;n.append($("<option><\/option>").attr("value",u).attr("selected",!0).text(u))}}).fail(function(){})},l(h,c))}var n=$(this),r=this.id,u=n.data("taxonomy-element-ajax-url"),t=n.data("taxonomy-element-input-type"),f=$("#"+n.data("taxonomy-element-parent-name")),i=n.data("taxonomy-element-parent-input-type");f.on("change",e)})})})(t=n.TaxonomyElement||(n.TaxonomyElement={}))})(DynamicForms||(DynamicForms={}));